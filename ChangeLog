2001-11-20  me  <me@sigpipe.org>

	* Makefile.am, NEWS, isync.1, isync.h, maildir.c, main.c:
	added --create/-C command line option to force creation of the local
	maildir-style mailbox if nonexistent

	debug.h was not included in isync_SOURCES in Makefile.am

2001-11-19  me  <me@sigpipe.org>

	* config.c, configure.in, debug.c, debug.h, isync.h, list.c, main.c, Makefile.am, TODO:
	added memory debugging code

	fixed memory leak in free_list()

	free memory associated with global settings on exit

2001-11-16  me  <me@sigpipe.org>

	* isync.h, sync.c, ChangeLog, cram.c, imap.c:
	remove c++ style comments

	use %lu and cast off_t to unsigned long in printf()

2001-11-15  me  <me@sigpipe.org>

	* NEWS, config.c, isync.1, isync.h, main.c, sync.c:
	Added MaxMessages patch from Eivind Eklund <eivind@FreeBSD.org>.

	config_defaults() can just use memcpy() instead of assigning each struct
	member individually.

	config_defaults() can be declared static

2001-11-14  me  <me@sigpipe.org>

	* config.c, configure.in, strndup.c:
	move strndup() code into config.c for less complexity

	change AC_REPLACE_FUNC(strndup) to AC_CHECK_FUNCS(strndup)

	sed expression checking for gcc-3.0 should be quoted beccause it
	fails under Solaris 2.7

2001-11-13  me  <me@sigpipe.org>

	* config.c, strndup.c, sync.c:
	strndup() could return a non-NULL terminated string

	size_t should be printed with %lu

	when expending tildes (~), an extra slash was inserted after the user's home
	directory

2001-11-12  me  <me@sigpipe.org>

	* isync.h, maildir.c, main.c:
	merge maildir_sync() and maildir_close().  the maxuid in a maildir still
	needs to be updated in --fast mode, and the sync code already checks to see
	if any changes were made to the mailbox.

2001-11-09  me  <me@sigpipe.org>

	* README: add FreeBSD to the list of tested platforms

	* config.c, configure.in, imap.c, maildir.c:
	update version to 0.7

	detect short write in write_strip()

	fix compilation warnings with gcc-2.95.4

2001-10-31  me  <me@sigpipe.org>

	* configure.in, imap.c, isync.h, main.c, sync.c:
	set compiler warnings for gcc-3.0 as well

	display message with count of uploaded messages

	--quiet now supresses warnings in sync_mailbox()

	fixed compiler warnings with -Wshadow

	* ChangeLog, NEWS, isync.1:
	post 0.6 commit

2001-10-30  me  <me@sigpipe.org>

	* README, configure.in, strndup.c:
	add strndup replacement function for systems which lack it

2001-10-03  me  <me@sigpipe.org>

	* ChangeLog, Makefile.am, maildir.c:
	fixed broken code in maildir_clean_tmp()

	* TODO, maildir.c:
	added code to clean the tmp directory in a maildir to comply with
	maildir(5)

	* config.c:
	forgot to add code to parse the `Delete' option

	* main.c:
	forgot conditional #if HAVE_LIBSSL around setting of .use_imaps in main()
	from command line arguments

	* main.c: update Copyright printed by --help

	add compile time option list to --help output

	* NEWS, TODO, config.c, isync.1, isync.h, main.c, sample.isyncrc, sync.c:
	added `Delete' configuration option to force -d option

	sync_mailbox() didn't consider MaxSize == 0 to mean "unlimited".

	load_config() needs to print a newline in its error messages since
	next_arg() kills the newline of the line that was read out of the config
	file.

	* TODO: update TODO list with action items

	* imap.c, sync.c:
	fixed maildir message filenames to comply with the maildir(5) specification.

	fixed write_strip() and imap_fetch_message() to check the return code of
	write() and fsync() to comply with maildir(5) spec.

2001-10-02  me  <me@sigpipe.org>

	* main.c:
	the `Expunge' config directive didn't work since only the -e command line
	argument was consulted.

	* config.c, imap.c, isync.h:
	we should issue a CAPABILITY even if we aren't going to use ssl/tls so that
	cram-md5 auth still works.

2001-07-18  me  <me@sigpipe.org>

	* config.c:
	find_box() should attempt to expand all filenames if none of the other
	methods found a match.

	* isync.h, maildir.c, config.c:
	fixed to not expand filenames until they are used inside of maildir_open(),
	so that aliases are not required for simple filenames.
	[re: http://bugs.debian.org/102255]

2001-06-22  me  <me@sigpipe.org>

	* main.c: --host option didn't check for imaps: prefix

2001-06-21  me  <me@sigpipe.org>

	* main.c:
	fixed core when specifying multiple mailboxes on the command line

2001-06-18  me  <me@sigpipe.org>

	* isync.1, TODO, configure.in, imap.c:
	handle untagged responses in imap_fetch_message() so that it doesn't bomb
	out if new mail arrives while in the process of downloading

	noted in BUGS section of man page that if new mail arrives after the initial
	message list has been retrieved from the IMAP server, that new mail will not
	be fetched until the next invocation of isync.

	* config.c, imap.c, isync.h, main.c:
	isync should continue to process additional mailboxes even if there is an
	error with a previous mailbox.

	added -a (--all) flag to synchronize all mailboxes defined in ~/.isyncrc

2001-06-13  me  <me@sigpipe.org>

	* NEWS: post 0.5-release commit

	* ChangeLog, smtppush:
	updated ChangeLog.  removed smtppush binary.

2001-06-12  me  <me@sigpipe.org>

	* Makefile, config.cache, config.log, config.status:
	auto generated files should not be part of the CVS tree

	* Makefile, config.cache, config.status, smtppush:
	New file.

	* Makefile, config.cache, config.status, smtppush:
	initial import

	* config.log: New file.

	* COPYING, INSTALL, Makefile.am, config.log, configure, configure.in, install-sh, main.c, missing, mkinstalldirs, AUTHORS, Makefile.in, README:
	initial import

2001-02-28  me  <me@sigpipe.org>

	* config.c, imap.c:
	fixed compiler warnings under Solaris 2.7

2001-02-19  me  <me@sigpipe.org>

	* ChangeLog, cram.c, imap.c, maildir.c:
	rfc2595 compliance patch from Daniel Resare <noa@metamatrix.se>
		- CAPABILITY should be reissued after starting TLS since the
		  previous call was not protected

2001-02-14  me  <me@sigpipe.org>

	* config.c, imap.c, isync.1, main.c, sync.c:
	patch from Daniel Resare <noa@metamatrix.se>:
	1 giving a path to a nonexistant rc-file with the -c argument dumps core

	  The patch adds a check to ensure that the given rc-file is accessible

	2 the error messages given from failed openssl calls are bogus

	  The handles the error from SSL_connect () correctly. The bug is
	  understndable since the error handling in openssl is quite obfuscated.
	  Good news is that the documentation manapges has been greatly updated in
	  the latest version (0.9.6). See in particular err(3), ERR_get_error(3)
	  and SSL_get_error(3).

	  Please note that possible SSL_ERROR_SSL type errors from SSL_read() and
	  SSL_write() is not handled. This should also be fixed.

	3 connecting using the STARTTLS command with an imap server that is
	  configured only to accept the TLSv1 protocol gives an error because isync
	  sends an SSLv2 Hello message for backwards compability. (This is the case
	  with the uw-imap 2000 that ships with redhat-7.0)
	  I've read RFC2595 several times to see if it says something about
	  compability SSL2/SSL3 hello messages but can't find anything. IMHO the
	  correct thing to do is change the default to not use SSL2/3 compability
	  hello when using the STARTTLS command but use it if the imaps port is
	  used. The patch implements this change

	4 repeated calls to SSL_CTX_set_options overwrites the old settings (the
	  values needs to be ORed together)

	  fixed in the patch

	patch from me@mutt.org:
		\Recent messages were put in the cur/ directory instead of new/

		give error message when the LOGIN command fails

2001-02-01  me  <me@sigpipe.org>

	* imap.c: patch from Daniel Resare <noa@metamatrix.se>
		- don't initialize ssl support if none of use_sslv* is enabled

2001-01-26  me  <me@sigpipe.org>

	* imap.c, isync.h:
	include <sys/types.h> for off_t

	patch from "lorenzo martignoni" <lorenzo.martignoni@technologist.com>
		- fixed uploading of message to IMAP server

2001-01-24  me  <me@sigpipe.org>

	* config.c, cram.c, imap.c, isync.1, list.c, maildir.c, main.c, sync.c:
	fixed cram compilation error under bsd

	updated man page

2001-01-16  me  <me@sigpipe.org>

	* TODO, config.c, imap.c, isync.1, isync.h, main.c:
	added support for tilde (~) expansion in the `Mailbox' and `CertificateFile'
	configuration directives

	added `Maildir' configuration command to specify the default location of the
	user's mailboxes.  If a relative path is used in a `Mailbox' command, this
	path is used as a prefix.

2001-01-11  me  <me@sigpipe.org>

	* configure.in, imap.c, isync.h:
	set imap->prefix to be the namespace prefix

	update version to 0.5

	fixed compilation warnings in imap.c

	* Makefile.am, config.c, imap.c, isync.1, isync.h, main.c, sample.isyncrc, sync.c:
	broke config code into config.c

	added support for uploading local messages with no UID to the IMAP server

	added Expunge configuration option

	added CopyDeletedTo configuration option

2001-01-09  me  <me@sigpipe.org>

	* maildir.c, sync.c:
	always put changed messages in the cur/ subdirectory since they are no
	longer new.

	don't set \Seen implicitly for messages in the cur/ folder.  Require the S
	flag on the message since Mutt will move Old (unread, but not recent)
	messges into cur/.

2001-01-08  me  <me@sigpipe.org>

	* Makefile.am, main.c:
	patch from Hugo Haas <hugo@larve.net>
		-c was not specified in the getopt*() calls

		set global password to the one the user inputs and use that as the
		default for remaining mailboxes

2001-01-05  me  <me@sigpipe.org>

	* configure.in:
	added --with-ssl-dir to specify an alternate installation of OpenSSL

2000-12-31  me  <me@sigpipe.org>

	* ChangeLog, isync.spec:
	pre 0.4 commit.

	updated rpm spec file

	* sync.c:
	display how many messages were fetched from the server

	* imap.c:
	fixed compilation error with no libssl support ("lorenzo martignoni"
	<lorenzo.martignoni@technologist.com>)

2000-12-28  me  <me@sigpipe.org>

	* main.c:
	fixed config parser to accept arbitrary whitespace

2000-12-27  me  <me@sigpipe.org>

	* imap.c:
	use imap_close to terminate a connection in imap_open()

	* imap.c, isync.1, isync.h, maildir.c, main.c:
	allow leading whitespace in config files

	now possible to sync multiple mailboxes by specifying multiple aliases on
	the command line.  IMAP connections are reused if possible.

	don't initialize ssl unless we are going to use it.

2000-12-23  me  <me@sigpipe.org>

	* imap.c, isync.h:
	don't use NAMESPACE unless the server supports it

	* Makefile.am, README, cram.c, imap.c, isync.h:
	added CRAM-MD5 authentication support.

	parse server capability string to determine if STARTTLS is available

2000-12-22  me  <me@sigpipe.org>

	* README, imap.c, isync.1, isync.h, main.c:
	isync-brokenservers.diff (Jeremy Katz <katzj@linuxpower.org>)
	adds support for disabling NAMESPACE, and disable various flavors of TLS/SSL
	for use with some broken IMAP servers.

	* imap.c, sync.c:
	prompt user if they wish to continue if the server's X.509 certificate can't
	be verified.

	sync_mailbox should consider uid == 0 to be "unknown"

	* main.c, sync.c:
	fixed sync_mailbox() to correctly write new messages to the local maildir
	box (Thomas Roessler <roessler@does-not-exist.org>)

	* main.c: set default MaxSize to 0 (unlimited)

	invert test for password being set after getpass() call (Magnus Jonsson
	<bigfoot@acc.umu.se>)

	* ChangeLog, NEWS, configure.in, imap.c, isync.1, isync.h, maildir.c, main.c, sample.isyncrc, sync.c:
	added MaxSize configuration variable

	fixed --fast to work robustly without relying on the \Recent flag in
	messages

2000-12-21  me  <me@sigpipe.org>

	* imap.c, isync.h, maildir.c, sync.c:
	RFC822.PEEK is obsolete in RFC2060.  Use BODY.PEEK[] instead, which does
	the same thing

	keep track of the uidvalidity so isync can detect if the mailbox on the
	server has changed since the last sync.

	* NEWS: updated NEWS for 0.3 release

	* Makefile.am, isync.spec:
	added support for building RPMS

	* Makefile.am, isync.1:
	added target for creating html version of the man page

	documented the imaps: prefix to the Host command

	* imap.c, sync.c:
	can't assume flag order when fetching a message.  just search for the
	first `{' to find the message size.

	* isync.1, sync.c:
	added BUGS section to manpage detailing the fact that we break the
	maildir(5) spec by parsing the filename

	change message delivery to use the method described in maildir(5)

	* configure.in, main.c, sync.c:
	use getpass() to get the user's password

	unlink the temp file if we are unable to fetch a new message from the
	server.

	update version to 0.3

	* isync.1: fixed typo in man page for --verbose option

	* Makefile.am, README, TODO, imap.c, isync.h, list.c:
	added generic IMAP list parser and rewrote imap_exec() to handle
	arbitrary data instead of hardcoded

	* Makefile.am, README, configure.in, main.c:
	fixes to compile cleanly under Solaris 2.7

	* configure.in, imap.c, isync.1, isync.h, main.c:
	added OpenSSL support

	* ChangeLog, configure.in, main.c:
	config options were not case insensitive

	* imap.c, isync.h, maildir.c, main.c, sync.c:
	don't fetch deleted messages when expunging

	display number of messages that are to be deleted

	flags for \Recent messages were not properly fetched

	local messages with updated flags were not corrected renamed

2000-12-20  me  <me@sigpipe.org>

	* ChangeLog, Makefile.am:
	updated ChangeLog

	added log: rule in Makefile.am

	* configure: forgot to remove configure script

	* INSTALL, Makefile.in, aclocal.m4, autogen.sh, install-sh, missing, mkinstalldirs:
	added autogen.sh to regenerate the build environment

	* COPYING, INSTALL, install-sh, missing, mkinstalldirs:
	added missing files

	* isync.1, sample.isyncrc: New file.

	* isync.1, sample.isyncrc:
	initial import

	* TODO, configure, imap.c, maildir.c, sync.c:
	New file.

	* TODO, configure, imap.c, maildir.c, sync.c:
	initial import

	* AUTHORS, ChangeLog, INSTALL, Makefile.am, Makefile.in, NEWS, README, aclocal.m4, configure.in, isync.h, main.c:
	New file.

	* AUTHORS, ChangeLog, INSTALL, Makefile.am, Makefile.in, NEWS, README, aclocal.m4, configure.in, isync.h, main.c:
	initial import

